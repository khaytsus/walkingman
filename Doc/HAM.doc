JPK30.04.92


	Überlegungen zur Einbeziehung des HAM-Modus:

	Der HAM-Modus an sich ist bei der Einbeziehung in das Programm kein
Problem; Schwierigkeiten macht nur die Analysierung der horizontalen
und vertikalen Linien.

	Zur Analyse der Linien ist grundsätzlich folgendes zu sagen:  Die
Betrachtung der Screengrenzen stellt keinen Unterschied zu den normalen
Screens dar.  Linien innerhalb des Bildschirms müssen allerdings unter
Berücksichtigung des besonderen Aufbaus der HAM-Bilder analysiert werden:

	+---------+						die letzten zwei Bitplanes identifizieren die
	| +-------+-+						einzustellende Farbkomponente.
	| |			|						Dabei gelten folgende Werte:
	| |			|						00 = normale Farbwahl/keine Änderung
	| |			|						01 = Blaukomponente
	| |			|						10 = Rotkomponente
	| |			|						11 = Grünkomponente
	+-+	+-----+---+
	  +---+ +-------+-+			die ersten vier Bitplanes sind die Intensität
			| | +-------+-+			der Farbkomponente, sofern überhaupt eine
			| | | +-------+-+			Komponente eingestellt wurde.
			| | | |			 |
			| | | |			 |
			| | | |			 |
			+-+ | |			 |
			  +-+ |			 |
				 +-+			 |
					+---------+

	Analyse vertikaler Linien:
	Soll eine vertikale Linie vorliegen, müssen auf der untersuchten
Senkrechten ausreichend Farbeinstellungen vorgenommen werden.  Ist dies
nicht der Fall, können keine Farbänderungen und somit keine Linie vorhanden
sein.
	Sind Farbeinstellungen vorhanden, muß geprüft werden, ob die hier
vorgenommenen Einstellungen nicht mit der bereits vorhandenen Einstellung
übereinstimmen.  Dazu muß die zuletzt vorgenommene Einstellung gesucht und
bestimmt werden; erfolgte in der Zeile keine explizite Einstellung, muß die
Hintergrundfarbe (Rand) zu Hilfe genommen werden.
	Unterscheidet sich die an der Linie vorhandene Einstellung ausreichend
von der davor vorgenommenen, ist tatsächlich eine Linie vorhanden.

	Analyse horizontaler Linien:
	Für die Untersuchung relevant ist der Farbunterschied zwischen mehreren
Zeilen. Dabei wird am rechten Rand des Männchens begonnen, nach links hin
nach eingestellten Farbkomponenten zu suchen; sobald ein ausreichender
Farbkontrast festgestellt wurde, kann die Untersuchung erfolgreich
abgeschlossen werden.  Ansonsten wird weitergesucht, bis sämtliche
Farbkomponenten unterhalb des Männchens, d.h.  mindestens bis zu seinem
linken Rand, bekannt sind (dies ist spätestens am linken Screenrand durch
die Hintergrundfarbe der Fall).


	Die Untersuchungen im HAM-Modus sind sehr aufwendig und somit
zeitkritisch; es ist empfehlenswert, sie so weit wie möglich zu optimieren
und auf ein Minimum zu reduzieren.  So kann bei der Analyse vertikaler
Linien die Suche nach den zuletzt vorgenommenen Einstellungen ganz
vernachlässigt oder zumindest auf eine Zeile begrenzt werden.
	Für die Untersuchung horizontaler Linien können vorgefundene
Einstellungen mit ihrer Position gespeichert werden, um sie bei
bewegungsarmen Aktivitäten (gehen, stehen, sitzen) schneller orten zu
können.
	Da es hier möglich ist, auf einfachste Weise geringe Farbänderungen zu
bewirken und auch abzufragen, sollten Linien auf Minimalkontraste geprüft
werden.  Ansonsten könnte es sein, daß sich die Männchen auf Linien
bewegen, die der Betrachter kaum wahrnimmt, bzw.  die nicht als Linien,
sondern als fließende Farbübergänge gedacht sind.



#define SUPERHIRES		0x0020
#define EXTENDED_MODE	0x1000
#define ECS_SPECIFIC
